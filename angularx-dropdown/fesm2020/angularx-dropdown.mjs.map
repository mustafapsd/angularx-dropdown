{"version":3,"file":"angularx-dropdown.mjs","sources":["../../../projects/angularx-dropdown/src/lib/dropdown.directive.ts","../../../projects/angularx-dropdown/src/lib/angularx-dropdown.module.ts","../../../projects/angularx-dropdown/src/public-api.ts","../../../projects/angularx-dropdown/src/angularx-dropdown.ts"],"sourcesContent":["import { Directive, ElementRef, HostListener, Input, OnInit, Renderer2, TemplateRef, ViewContainerRef } from '@angular/core';\n\n@Directive({\n  selector: '[ngDropdown]'\n})\nexport class DropdownDirective implements OnInit {\n\n  /**\n   * @description - It must be `ng-template` element\n   */\n  @Input()\n  dropdownTemplate!: TemplateRef<any>;\n\n  @Input()\n  classList?: string[] | string;\n\n  /**\n   * @description - sm: 230px (default) | md: 300px | lg: 400px\n   */\n  @Input()\n  size?: 'sm' | 'md' | 'lg' = 'sm';\n\n  /**\n   * @description - Alignment of dropdown\n   */\n  @Input()\n  alignment?: 'left' | 'right' = 'left';\n\n  /**\n   * @description - Disable close dropdown when clicked outside\n   */\n  @Input()\n  disableCloseOnClickOutside = false;\n\n  private dropDownContainer!: HTMLElement | null;\n\n  constructor(\n    private elementRef: ElementRef,\n    private renderer: Renderer2,\n    private viewRef: ViewContainerRef\n  ) { }\n\n  ngOnInit(): void {\n    // Add css classes to global style\n    const style = this.renderer.createElement('style');\n    this.renderer.appendChild(style, this.renderer.createText(`\n        .angularx-dropdown {\n          background: #fff;\n          border: 1px solid #ececec;\n          box-shadow: 0px 0px 8px 0px rgba(0, 0, 0, 0.08);\n          border-radius: 4px;\n          padding: 10px;\n          z-index: 100000;\n          position: absolute;\n        }\n\n        .angularx-dropdown-sm {\n          width: 230px;\n        }\n\n        .angularx-dropdown-md {\n          width: 300px;\n        }\n\n        .angularx-dropdown-lg {\n          width: 400px;\n        }\n        `\n    ));\n\n    this.renderer.appendChild(document.body, style);\n  }\n\n  @HostListener('click') onClick() {\n\n    // If dropdown is already open, close it\n    if (this.dropDownContainer) {\n      this.closeDropdown();\n      return;\n    }\n\n    const dropdownButton = this.elementRef.nativeElement as HTMLElement;\n    const dropdownContainer = document.createElement('div');\n    this.renderer.appendChild(dropdownContainer, this.viewRef.createEmbeddedView(this.dropdownTemplate).rootNodes[0]);\n\n\n    dropdownContainer.classList.add(...[\n      'angularx-dropdown',\n      `angularx-dropdown-${this.size}`,\n    ]);\n\n    if (this.classList) {\n      if (typeof this.classList === 'string') {\n        dropdownContainer.classList.add(this.classList);\n      } else {\n        dropdownContainer.classList.add(...this.classList);\n      }\n    }\n\n    dropdownContainer.style.top = `${dropdownButton.clientHeight + dropdownButton.offsetTop + 5}px`;\n\n    if (this.alignment === 'right') {\n      dropdownContainer.style.left = `${dropdownButton.clientWidth + dropdownButton.offsetLeft}px`;\n      dropdownContainer.style.transform = 'translateX(-100%)';\n    } else {\n      dropdownContainer.style.left = `${dropdownButton.offsetLeft}px`;\n    }\n\n    const IS_IT_RIGHT_HAND_SIDE = dropdownButton.offsetLeft > (window.innerWidth / 2);\n\n    if (IS_IT_RIGHT_HAND_SIDE) {\n      dropdownContainer.style.maxWidth = `${(window.innerWidth - dropdownButton.offsetLeft) - 20}px`;\n    } else {\n      dropdownContainer.style.maxWidth = `${window.innerWidth - dropdownButton.offsetLeft - dropdownButton.clientWidth - 20}px`;\n    }\n\n    this.dropDownContainer = dropdownContainer;\n\n    // Control all the elements with for\n\n    for (const CHILD of Array.from(dropdownContainer.querySelectorAll('*'))) {\n      const ATTRIBUTES = Array.from(CHILD.attributes).map(attr => attr.name);\n      if (ATTRIBUTES.includes('dropdown-close')) {\n        CHILD.addEventListener('click', () => {\n          this.closeDropdown();\n        });\n      }\n    }\n\n    this.renderer.appendChild(dropdownButton.parentElement, dropdownContainer);\n\n\n    // Add eventlistener to close dropdown when clicked outside\n    if (!this.disableCloseOnClickOutside) {\n      setTimeout(() => {\n        document.addEventListener('click', this.closeDropdownEvent);\n      }, 100);\n    }\n  }\n\n  // Close dropdown when clicked outside\n  private closeDropdownEvent = (e: MouseEvent) => {\n    if (!this.dropDownContainer?.contains(e.target as Node)) {\n      this.closeDropdown();\n      document.removeEventListener('click', this.closeDropdownEvent);\n    }\n  }\n\n  private closeDropdown() {\n    this.dropDownContainer?.remove();\n    this.dropDownContainer = null;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { DropdownDirective } from './dropdown.directive';\n\n\n\n@NgModule({\n  declarations: [\n    DropdownDirective\n  ],\n  imports: [\n  ],\n  exports: [\n    DropdownDirective\n  ]\n})\nexport class AngularxDropdownModule { }\n","/*\n * Public API Surface of angularx-dropdown\n */\n\nexport * from './lib/angularx-dropdown.module';\nexport * from './lib/dropdown.directive';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}